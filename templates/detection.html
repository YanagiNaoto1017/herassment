{% extends "base.html" %}

{% block content %}

<style>
    input[type="text"],
    textarea {
        width: 100%;
        padding: 20px 20px;
        /* 少し広めのパディング */
        font-size: 1em;
        border: 1px solid #ccc;
        border-radius: 4px;
        resize: vertical;
        /* ユーザーが高さを変更可能 */
        white-space: pre-wrap;
        /* 折り返し可能 */
        word-wrap: break-word;
    }
</style>

<div
    style="max-width: 600px; margin: 30px auto; padding: 20px; border: 1px solid #e0e0e0; border-radius: 8px; background-color: #ffffff; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);">
    <h1 style="text-align: center; font-size: 1.8em; margin-bottom: 20px; color: #333;">検出</h1>
    <form method="POST">
        {% csrf_token %}
        {{ form.non_field_errors }}
        {% for field in form %}
        <div>
            {{ field }}
            {{ field.errors }}
        </div>
        {% endfor %}
        <div style="text-align: center;">
            <button type="submit"
                style="padding: 10px 20px; font-size: 1.1em; color: #fff; background-color: #007bff; border: none; border-radius: 4px; cursor: pointer;">検出</button>
        </div>
        {% if text.detected_words %}
        <div>
            疑いのある単語を検出しました<br>
            疑いのある単語：{{ text.detected_words }}
        </div>
        {% elif not text.detected_words %}
        <div>
            疑いのある単語は検出されませんでした
        </div>
        {% else %}
        {% endif %}
        <div>
            <p>感情：{{ sentiment }}</p>
            <p>ポジティブ：{{ positive_prob }}%</p>
            <p>ネガティブ：{{ negative_prob }}%</p>
        </div>
    </form>
</div>
{% endblock %}